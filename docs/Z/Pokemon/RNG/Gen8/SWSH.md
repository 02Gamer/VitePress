# 宝可梦剑盾

## 前言
<!-- - 剑盾野外闪光必定`♦方块闪`（Bug）。 -->
当角色于某帧走进某只（定点/钓鱼/明雷/暗雷）宝可梦的刷新范围内则该只精灵刷新出现，且其能力值即被确定，所以乱数的就是一个让宝可梦在确定帧出现的过程。通过游戏内随机数生成器（RNG）的种子（Seed），预测特定帧数下出现的宝可梦（如闪光、大小、证章等）。

## 准备工作

::: warning 警告
**需要训练家TID/SID**
- 自己捕获的精灵找朋友给你看
<!-- `或`通过游戏中捕捉到的宝可梦反查 -->
- TID/SID转换成5位数: https://lincoln-lm.github.io/JS-Finder/Gen8/G8-ID-Converter/
:::

- **采集卡**：电脑投屏游戏画面。
- **单片机**：用单片机脚本+伊机控识图，获取seed。
- **个体值计算器**：用于捕获宝可梦的能力值进行反查个体。
- **SWSH_OWRNG_Generator**：用来查看当前游戏Seed和测闪光帧。

<!-- **TID/SID反查** -->

## 实机操作
### 定点

::: tip 提示
- 尽可能在安静环境中进行乱数，即角色周围无多余宝可梦、NPC，尽可能在单一地形，尽可能在晴天，阴天，等少干扰元素的环境下乱数。
- 帧数偏移：因游戏内操作延迟，实际帧数可能与预测存在偏差，需多次校准反查。
- 合法性：乱数属于利用游戏机制，非修改数据，生成的宝可梦为合法。
:::

1. 确定想要的目标定点宝可梦周围未刷新处保存，尽可能保持周围NPC和野生宝可梦游戏里面看不见。通过摇杆往前推一步一存档利用SL达到刷新和不刷新界点`越极限越好`，直到轻推摇杆看见`破土`特效立刻回档重启游戏。打开菜单进入同行宝可梦界面，这里用`铁甲蛹`演示放到第二位，按照脚本说明`测种`启动伊机控等待3-4分钟自动获取128个动作种子。
<ImageViewer src="/images/Pokemon/RNG/破土.png" alt="破土" />
<ImageViewer src="/images/Pokemon/RNG/脚本.png" alt="伊机控" />

2. 打开`SWSH_OWRNG_Generator`软件上方找到`野外遭遇表`找到目标宝可梦随便选一个天气，游戏中保持是晴天或阴天。然后打开左上角的`种子查询`输入刚得到的动作种子应用此数据搜索！

3. 关闭菜单栏的同时往前走去撞宝可梦，大师球直接捕获然后用`个体值计算器`输入对应的能力值和等级进行反查捕获的第几帧。建议多测几次如果相差比较大不稳定试着换个位置找到最为稳定的延迟帧为止。
<ImageViewer src="/images/Pokemon/RNG/能力值.png" alt="能力值" />
<ImageViewer src="/images/Pokemon/RNG/反查.png" alt="反查" />

4. 这里反查延迟是1-3帧（正常2帧）。确定延迟帧去SWSH_OWRNG_Generator勾选闪光输入动作种子搜索。`闪光帧-延迟帧=要过的帧`，例如394~396为闪帧取395-2=393就是我们要过的帧。这里过帧方式选`摇杆`再填入393要过的帧。最后在铁甲蛹界面启动脚本等待过帧。
<ImageViewer src="/images/Pokemon/RNG/闪光帧.png" alt="闪光帧" />
<ImageViewer src="/images/Pokemon/RNG/过帧.png" alt="过帧" />

### 钓鱼
因为钓鱼点的出现和是否骑自行车有关，故根据实际地形情况有两种出发方法：
1. 如定点一样，在看不见涟漪的地方保存。
2. 在钓鱼点处下车保存，前期操作都与定点一致，而最后触发闪帧方法有变，即保持骑车状态进入宝可梦界面过帧，在到帧后，返回地图，下车，等待大约 4.5s，涟漪出现，里面就是目标宝可梦。

::: tip 提示
例如上千万或上亿闪帧距离非常大，则需其他过帧操作：
- 队伍界面按下左或右遥感，按下几次即为过几帧，此处于128动作种子不同，无需等待宝可梦动作完毕再按下一次。
- 返回地图界面，通过不断上下自行车 或 雷雨天气挂机，过帧幅度根据环境嘈杂程度浮动。
- 卡对战Bug，在野外界面往后过天数，该方法过帧幅度大约1W左右，与盒子宝可梦数量有关。
:::

## 对战Bug

利用这Bug，在`野外界面`每次往后修改NS日期(往前改不会有任何效果)都能让游戏内过`1w帧左右`（与盒子宝可梦数量有关）。 如果不卡Bug，直接修改日期对游戏是无效的。<br>
**方法**：联网按Y键进入菜单里的连接对战，在出现`【已找到对手】`时开关一次飞行模式或按NS电源键息屏(目的是断网)，提示网络错误。<br>
**测试**：按HOME键回到桌面，再进游戏，如果屏幕出现明显闪白一下，证明Bug卡成功。Bug在游戏不重启的状态下一直有效。<br>
**退出Bug**：开关一次露营即可。

## 天气表格
伽勒尔地区一共出现了9种对战外天气。其中，暴风雪和沙暴需要获得3个徽章并抵达拳关市后才会出现，雾需要登入名人堂后才会出现。<br>
<!-- 天气证章或时间证章需在特定天气或时间下出现的宝可梦有概率获得。 -->

| **天气** | **对战变化** | **条件** | **旷野地带** | **凯之孤岛** | **冠之雪原** |
| :--: | :------: | :---: | :---: | :---: | :---: |
| **暴风雪** | 冰雹 | 抵达拳关市 | 2月1日 | - | 1月31日<br>2月29日<br>8月31日<br>11月30日 |
| **沙暴** | 沙暴 | 抵达拳关市 | 4月1日 | - | - |
|  **雾**  | 薄雾场地 | 登入名人堂<br>完成孤岛剧情 | 2月29日<br>6月1日<br>9月1日 | 1月15日<br>10月15日 | 7月31日 |
| **阴天** | 无 | - | 3月1日 | 2月15日<br>11月15日 | 3月31日<br>10月31日 |
| **晴朗** | 无 | - | 5月1日 | 3月15日<br>9月15日 | 4月30日<br>12月31日 |
| **大晴天** | 大晴天 | - | 7月1日<br>8月1日 | 5月15日<br>12月15日 | 5月31日 |
| **下雨** | 下雨 | - | 10月1日 | 4月15日<br>6月15日<br>12月25日 | - |
| **雷雨** | 下雨+电气场地 | - | 11月1日 | 2月29日<br>7月15日<br>8月15日 | - |
| **下雪** | 冰雹 | - | 12月1日<br>12月25日 | - | 2月28日<br>6月30日<br>9月30日 |